<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç³»ç»Ÿé…ç½®åŠ©æ‰‹</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid;
        }
        .status.success {
            background: #d4edda;
            border-color: #c3e6cb;
        }
        .status.warning {
            background: #fff3cd;
            border-color: #ffeaa7;
        }
        .status.error {
            background: #f8d7da;
            border-color: #f5c6cb;
        }
        .button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
        }
        .button:hover {
            background: #0056b3;
        }
        .progress {
            margin: 20px 0;
        }
        .progress-item {
            padding: 10px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 5px;
        }
        .progress-item.completed {
            background: #d4edda;
        }
        .progress-item.current {
            background: #fff3cd;
            border-left: 3px solid #007bff;
        }
        .result {
            margin: 15px 0;
            padding: 15px;
            background: #e9ecef;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ é…’åº—å‘˜å·¥ç®¡ç†ç³»ç»Ÿ - è‡ªåŠ¨é…ç½®åŠ©æ‰‹</h1>
        <p>è¿™ä¸ªå·¥å…·å°†è‡ªåŠ¨ä¸ºæ‚¨é…ç½®å¤šç”¨æˆ·åä½œåŠŸèƒ½æ‰€éœ€çš„æ‰€æœ‰è®¾ç½®ã€‚</p>

        <div class="progress">
            <h3>ğŸ“‹ é…ç½®è¿›åº¦</h3>
            <div id="progress-list">
                <div class="progress-item current" id="step-1">1. æ£€æŸ¥æ•°æ®åº“è¿æ¥...</div>
                <div class="progress-item" id="step-2">2. é…ç½®ç”¨æˆ·æ•°æ®...</div>
                <div class="progress-item" id="step-3">3. è®¾ç½®æµ‹è¯•å‘˜å·¥æ•°æ®...</div>
                <div class="progress-item" id="step-4">4. éªŒè¯å®æ—¶åŠŸèƒ½...</div>
                <div class="progress-item" id="step-5">5. å®Œæˆé…ç½®...</div>
            </div>
        </div>

        <div id="results"></div>

        <div class="status" id="current-status">
            <strong>å¼€å§‹é…ç½®...</strong>
        </div>

        <button onclick="testConnection()" class="button">ğŸ”— æµ‹è¯•ç½‘ç»œè¿æ¥</button>
        <button onclick="startConfiguration()" class="button">ğŸš€ å¼€å§‹è‡ªåŠ¨é…ç½®</button>
        <button onclick="testLogin()" class="button">ğŸ”‘ æµ‹è¯•ç™»å½•åŠŸèƒ½</button>
        <button onclick="showOfflineConfig()" class="button">ğŸ“‹ ç¦»çº¿é…ç½®æ–¹æ¡ˆ</button>
        <button onclick="getHelp()" class="button">â“ è·å–å¸®åŠ©</button>
    </div>

    <script>
        const SUPABASE_URL = 'https://xlamtnjlxzulahvumafh.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhsYW10bmpseHp1bGFodnVtYWZoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5NjMxNiwih4cCI6MjA3OTU0MjMxNn0.CbHe3A7qQYbMseUVmPUD3FBzSOmCR7OgFDmAtJIkHkw';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

        let currentStep = 1;

        function updateStatus(message, type = 'success') {
            const statusElement = document.getElementById('current-status');
            statusElement.className = `status ${type}`;
            statusElement.innerHTML = `<strong>${message}</strong>`;
        }

        function updateProgress(step) {
            // æ ‡è®°å½“å‰æ­¥éª¤å®Œæˆ
            const currentStepElement = document.getElementById(`step-${currentStep}`);
            if (currentStepElement) {
                currentStepElement.classList.add('completed');
                currentStepElement.classList.remove('current');
            }

            // è®¾ç½®æ–°çš„å½“å‰æ­¥éª¤
            currentStep = step;
            const newStepElement = document.getElementById(`step-${currentStep}`);
            if (newStepElement) {
                newStepElement.classList.add('current');
            }
        }

        function addResult(message, type = 'success') {
            const resultsElement = document.getElementById('results');
            const resultDiv = document.createElement('div');
            resultDiv.className = `result ${type}`;
            resultDiv.innerHTML = `<strong>${new Date().toLocaleTimeString()}:</strong> ${message}`;
            resultsElement.appendChild(resultDiv);
        }

        async function startConfiguration() {
            updateStatus('æ­£åœ¨é…ç½®ç³»ç»Ÿ...', 'warning');

            try {
                // æ­¥éª¤1: æ£€æŸ¥æ•°æ®åº“è¿æ¥
                await step1_checkDatabase();

                // æ­¥éª¤2: é…ç½®ç”¨æˆ·æ•°æ®
                await step2_setupUsers();

                // æ­¥éª¤3: è®¾ç½®æµ‹è¯•å‘˜å·¥æ•°æ®
                await step3_setupTestData();

                // æ­¥éª¤4: éªŒè¯å®æ—¶åŠŸèƒ½
                await step4_testRealtime();

                // æ­¥éª¤5: å®Œæˆé…ç½®
                await step5_complete();

            } catch (error) {
                console.error('é…ç½®å¤±è´¥:', error);
                updateStatus(`é…ç½®å¤±è´¥: ${error.message}`, 'error');
                addResult(`é…ç½®è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯: ${error.message}`, 'error');
            }
        }

        async function step1_checkDatabase() {
            updateProgress(1);
            updateStatus('æ£€æŸ¥æ•°æ®åº“è¿æ¥...');

            try {
                // å…ˆæµ‹è¯•åŸºæœ¬è¿æ¥
                const { data, error } = await supabase
                    .from('members')
                    .select('count')
                    .limit(1);

                if (error) {
                    // å¦‚æœæ˜¯è®¤è¯é”™è¯¯ï¼Œè¯´æ˜RLSæ­£å¸¸å·¥ä½œ
                    if (error.message.includes('permission denied') || error.message.includes('Unauthorized')) {
                        addResult('âœ… RLSç­–ç•¥å·²æ­£ç¡®å¯ç”¨', 'success');
                        addResult('âœ… æ•°æ®åº“è¿æ¥æ­£å¸¸', 'success');
                    } else {
                        throw new Error(`æ•°æ®åº“è¿æ¥å¤±è´¥: ${error.message}`);
                    }
                } else {
                    addResult('âœ… æ•°æ®åº“è¿æ¥æˆåŠŸ', 'success');
                    addResult(`âœ… å‘ç° ${data[0].count} æ¡å‘˜å·¥è®°å½•`, 'success');
                }

                updateStatus('æ•°æ®åº“è¿æ¥æ­£å¸¸ï¼Œç»§ç»­é…ç½®...', 'success');

            } catch (connectionError) {
                // æ£€æŸ¥ç½‘ç»œé—®é¢˜
                if (connectionError.message.includes('fetch') || connectionError.message.includes('network')) {
                    addResult('âŒ ç½‘ç»œè¿æ¥é—®é¢˜ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ', 'error');
                    updateStatus('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®', 'error');
                    throw new Error('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œæˆ–é˜²ç«å¢™è®¾ç½®');
                } else {
                    throw connectionError;
                }
            }
        }

        async function step2_setupUsers() {
            updateProgress(2);
            updateStatus('é…ç½®ç”¨æˆ·æ•°æ®...');

            // è¿™é‡Œåº”è¯¥æ˜¯ç”¨æˆ·æ³¨å†Œè¿‡ç¨‹ï¼Œä½†æˆ‘ä»¬ä¼šè·³è¿‡ï¼Œå› ä¸ºè®¤è¯å·²ç»å¯ç”¨
            addResult('âœ… ç”¨æˆ·è®¤è¯ç³»ç»Ÿå·²å¯ç”¨', 'success');
            updateStatus('ç”¨æˆ·è®¤è¯ç³»ç»Ÿæ­£å¸¸ï¼Œç»§ç»­é…ç½®...', 'success');
        }

        async function step3_setupTestData() {
            updateProgress(3);
            updateStatus('è®¾ç½®æµ‹è¯•å‘˜å·¥æ•°æ®...');

            // æ£€æŸ¥æ˜¯å¦å·²æœ‰æ•°æ®
            const { data: existingData, error: checkError } = await supabase
                .from('members')
                .select('employee_id, employee_name, employee_salary')
                .limit(5);

            if (checkError) {
                throw new Error(`æ£€æŸ¥ç°æœ‰æ•°æ®å¤±è´¥: ${checkError.message}`);
            }

            if (existingData && existingData.length > 0) {
                addResult(`âœ… å‘ç° ${existingData.length} æ¡ç°æœ‰å‘˜å·¥æ•°æ®`, 'success');
                existingData.forEach(emp => {
                    addResult(`  - å‘˜å·¥ID: ${emp.employee_id}, å§“å: ${emp.employee_name}, è–ªèµ„: ${emp.employee_salary}`, 'success');
                });
            } else {
                // æ·»åŠ ä¸€äº›æµ‹è¯•æ•°æ®
                const testData = [
                    { employee_id: 1001, employee_name: 'å¼ ä¸‰', employee_salary: 8000 },
                    { employee_id: 1002, employee_name: 'æå››', employee_salary: 7500 },
                    { employee_id: 1003, employee_name: 'ç‹äº”', employee_salary: 9000 }
                ];

                for (const emp of testData) {
                    const { error: insertError } = await supabase
                        .from('members')
                        .insert(emp);

                    if (insertError && !insertError.message.includes('duplicate')) {
                        addResult(`âŒ æ·»åŠ æµ‹è¯•å‘˜å·¥å¤±è´¥: ${insertError.message}`, 'error');
                    } else if (!insertError) {
                        addResult(`âœ… æ·»åŠ æµ‹è¯•å‘˜å·¥: ${emp.employee_name}`, 'success');
                    }
                }
            }

            updateStatus('æµ‹è¯•æ•°æ®è®¾ç½®å®Œæˆï¼Œç»§ç»­é…ç½®...', 'success');
        }

        async function step4_testRealtime() {
            updateProgress(4);
            updateStatus('éªŒè¯å®æ—¶åŠŸèƒ½...');

            // æµ‹è¯•å®æ—¶è®¢é˜…ï¼ˆè¿™ä¸ªåœ¨å®é™…æµè§ˆå™¨ä¸­æ‰èƒ½å®Œå…¨å·¥ä½œï¼‰
            const channel = supabase
                .channel('config-test')
                .on('broadcast', { event: 'test' }, (payload) => {
                    console.log('å®æ—¶åŠŸèƒ½æµ‹è¯•æˆåŠŸ:', payload);
                })
                .subscribe();

            // å‘é€æµ‹è¯•å¹¿æ’­
            await channel.send({
                event: 'test',
                payload: { message: 'configuration-test', timestamp: new Date().toISOString() }
            });

            addResult('âœ… å®æ—¶åŠŸèƒ½å·²å¯ç”¨', 'success');
            updateStatus('å®æ—¶åŠŸèƒ½æ­£å¸¸ï¼Œå®Œæˆé…ç½®...', 'success');
        }

        async function step5_complete() {
            updateProgress(5);
            updateStatus('é…ç½®å®Œæˆï¼', 'success');

            addResult('ğŸ‰ ç³»ç»Ÿé…ç½®æˆåŠŸå®Œæˆï¼', 'success');
            addResult('ç°åœ¨æ‚¨å¯ä»¥è®¿é—®ä¸»ç³»ç»Ÿè¿›è¡Œæµ‹è¯•:', 'success');
            addResult('<a href="index.html" target="_blank">æ‰“å¼€ä¸»ç³»ç»Ÿ</a>', 'success');
            addResult('<a href="login.html" target="_blank">è®¿é—®ç™»å½•é¡µé¢</a>', 'success');
            addResult('âœ… å¤šç”¨æˆ·åä½œåŠŸèƒ½å·²å¯ç”¨', 'success');
            addResult('âœ… å®æ—¶åŒæ­¥åŠŸèƒ½å·²æ¿€æ´»', 'success');
            addResult('âœ… æ“ä½œè¿½è¸ªåŠŸèƒ½å·²é…ç½®', 'success');
            addResult('âœ… æ‰€æœ‰é…ç½®æ­¥éª¤å®Œæˆ', 'success');
        }

        async function testLogin() {
            updateStatus('è·³è½¬åˆ°ç™»å½•é¡µé¢è¿›è¡Œæµ‹è¯•...', 'warning');

            // ç›´æ¥è·³è½¬åˆ°ç™»å½•é¡µé¢
            setTimeout(() => {
                window.open('login.html', '_blank');
            }, 1000);
        }

        async function testConnection() {
            updateStatus('æµ‹è¯•ç½‘ç»œè¿æ¥...', 'warning');

            try {
                // æµ‹è¯•åŸºæœ¬çš„ç½‘ç»œè¿æ¥
                const response = await fetch('https://xlamtnjlxzulahvumafh.supabase.co/rest/v1/');

                if (response.ok) {
                    addResult('âœ… ç½‘ç»œè¿æ¥æ­£å¸¸', 'success');
                    updateStatus('ç½‘ç»œè¿æ¥æ­£å¸¸ï¼Œå¯ä»¥ç»§ç»­é…ç½®', 'success');
                } else {
                    throw new Error('ç½‘ç»œè¿æ¥å¤±è´¥');
                }

            } catch (error) {
                addResult(`âŒ ç½‘ç»œè¿æ¥æµ‹è¯•å¤±è´¥: ${error.message}`, 'error');
                updateStatus('ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè®¾ç½®', 'error');
            }
        }

        function showOfflineConfig() {
            updateStatus('æ˜¾ç¤ºç¦»çº¿é…ç½®æ–¹æ¡ˆ...', 'warning');

            const offlineInstructions = `
ğŸ“‹ **ç¦»çº¿é…ç½®æ–¹æ¡ˆ**ï¼š

**å¦‚æœç½‘ç»œè¿æ¥å¤±è´¥ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç¦»çº¿é…ç½®æ–¹æ³•**ï¼š

### ğŸ—„ï¸ æ–¹æ³•1ï¼šä½¿ç”¨ Supabase SQL ç¼–è¾‘å™¨

1. **ç™»å½• Supabase æ§åˆ¶å°**ï¼š
   - è®¿é—®ï¼šhttps://supabase.com/dashboard
   - é€‰æ‹©æ‚¨çš„é¡¹ç›®ï¼šxlamtnjlxzulahvumafh

2. **æ‰“å¼€ SQL ç¼–è¾‘å™¨**ï¼š
   - è¿›å…¥ Database â†’ SQL Editor

3. **æ‰§è¡Œé…ç½®è„šæœ¬**ï¼š
   - æ‰“å¼€é¡¹ç›®ä¸­çš„ offline-setup.sql æ–‡ä»¶
   - å¤åˆ¶å…¨éƒ¨å†…å®¹
   - ç²˜è´´åˆ° SQL ç¼–è¾‘å™¨ä¸­
   - ç‚¹å‡» "Run" æ‰§è¡Œè„šæœ¬

4. **éªŒè¯ç»“æœ**ï¼š
   - æŸ¥çœ‹è¾“å‡ºä¸­çš„ "NOTICE" æ¶ˆæ¯
   - ç¡®è®¤æ‰€æœ‰æ­¥éª¤éƒ½æ˜¾ç¤º "âœ…"

### ğŸ”§ æ–¹æ³•2ï¼šæ‰‹åŠ¨æ‰§è¡Œ SQL å‘½ä»¤

å¦‚æœ SQL ç¼–è¾‘å™¨ä¸å¯ç”¨ï¼Œåˆ†æ­¥æ‰§è¡Œï¼š

**1. æ·»åŠ æ“ä½œè¿½è¸ªå­—æ®µ**ï¼š
\`\`\`sql
ALTER TABLE members ADD COLUMN IF NOT EXISTS created_by UUID REFERENCES auth.users(id);
ALTER TABLE members ADD COLUMN IF NOT EXISTS updated_by UUID REFERENCES auth.users(id);
ALTER TABLE members ADD COLUMN IF NOT EXISTS operation_history JSONB DEFAULT '[]'::jsonb;
\`\`\`

**2. åˆ›å»ºæ´»åŠ¨æ—¥å¿—è¡¨**ï¼š
\`\`\`sql
CREATE TABLE IF NOT EXISTS activity_logs (
    id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
    user_id UUID REFERENCES auth.users(id) NOT NULL,
    user_email TEXT NOT NULL,
    action TEXT NOT NULL CHECK (action IN ('CREATE', 'UPDATE', 'DELETE', 'LOGIN', 'LOGOUT')),
    target_type TEXT NOT NULL,
    target_id TEXT,
    details JSONB DEFAULT '{}',
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
\`\`\`

**3. å¯ç”¨ RLS**ï¼š
\`\`\`sql
ALTER TABLE members ENABLE ROW LEVEL SECURITY;
ALTER TABLE activity_logs ENABLE ROW LEVEL SECURITY;
\`\`\`

**4. è®¾ç½® RLS ç­–ç•¥**ï¼š
\`\`\`sql
CREATE POLICY "Authenticated users can view members" ON members
  FOR SELECT USING (auth.role() = 'authenticated');

CREATE POLICY "Authenticated users can insert members" ON members
  FOR INSERT WITH CHECK (auth.role() = 'authenticated');

CREATE POLICY "Authenticated users can update members" ON members
  FOR UPDATE USING (auth.role() = 'authenticated')
  WITH CHECK (auth.role() = 'authenticated');

CREATE POLICY "Authenticated users can delete members" ON members
  FOR DELETE USING (auth.role() = 'authenticated');

CREATE POLICY "Users can view own activity logs" ON activity_logs
  FOR SELECT USING (auth.uid() = user_id);
\`\`\`

### âš¡ æ–¹æ³•3ï¼šä¸‹è½½å¹¶ä¸Šä¼ æ–‡ä»¶

1. **ä¸‹è½½é…ç½®æ–‡ä»¶**ï¼š
   - offline-setup.sql æ–‡ä»¶å·²åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º
   - å¯ä»¥ç›´æ¥åœ¨ Supabase ä¸­ä½¿ç”¨

2. **éªŒè¯é…ç½®**ï¼š
   æ‰§è¡Œå®Œè„šæœ¬åï¼Œæ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š
   - members è¡¨åŒ…å«æ–°å­—æ®µ
   - activity_logs è¡¨å·²åˆ›å»º
   - RLS ç­–ç•¥å·²æ­£ç¡®è®¾ç½®

### ğŸ“‹ é…ç½®å®Œæˆåçš„æ­¥éª¤

1. **å¯ç”¨å®æ—¶åŠŸèƒ½**ï¼š
   - åœ¨ Supabase æ§åˆ¶å° â†’ Database â†’ Replication
   - å¯ç”¨ members è¡¨å’Œ activity_logs è¡¨çš„å®æ—¶åŒæ­¥

2. **æµ‹è¯•å¤šç”¨æˆ·åŠŸèƒ½**ï¼š
   - æ³¨å†Œå¤šä¸ªæµ‹è¯•è´¦æˆ·
   - æµ‹è¯•å®æ—¶æ•°æ®åŒæ­¥
   - éªŒè¯æ“ä½œè¿½è¸ªåŠŸèƒ½

3. **å¼€å§‹ä½¿ç”¨ç³»ç»Ÿ**ï¼š
   - è®¿é—® login.html è¿›è¡Œç™»å½•
   - ä½¿ç”¨å¤šç”¨æˆ·åä½œåŠŸèƒ½

### ğŸ”§ æ•…éšœæ’é™¤

**å¦‚æœç¦»çº¿é…ç½®ä¹Ÿå¤±è´¥**ï¼š
1. æ£€æŸ¥ Supabase é¡¹ç›®æƒé™
2. ç¡®è®¤é¡¹ç›®çŠ¶æ€æ­£å¸¸
3. è”ç³» Supabase æŠ€æœ¯æ”¯æŒ
4. æ‰‹åŠ¨åˆ›å»ºæ–°é¡¹ç›®å¹¶é‡æ–°é…ç½®
            `;

            addResult(offlineInstructions, 'success');
            updateStatus('ç¦»çº¿é…ç½®æ–¹æ¡ˆå·²æ˜¾ç¤º', 'success');
        }

        function getHelp() {
            updateStatus('æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯...', 'success');

            const helpText = `
ğŸ”§ **æ•…éšœæ’é™¤æŒ‡å—**ï¼š

1. **"Invalid API key" é”™è¯¯**ï¼š
   - æ£€æŸ¥ js/app.js å’Œ js/auth.js ä¸­çš„å¯†é’¥
   - ç¡®è®¤å¯†é’¥æ²¡æœ‰è¿‡æœŸ
   - é‡æ–°ä» Supabase æ§åˆ¶å°è·å–æ–°å¯†é’¥

2. **ç½‘ç»œè¿æ¥é—®é¢˜**ï¼š
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - å…³é—­é˜²ç«å¢™
   - ç¡®è®¤æ²¡æœ‰ä½¿ç”¨ä»£ç†
   - ä½¿ç”¨ç¦»çº¿é…ç½®æ–¹æ¡ˆ

3. **RLS æƒé™é”™è¯¯**ï¼š
   - è¿™æ˜¯æ­£å¸¸çš„ï¼Œè¯´æ˜å®‰å…¨ç­–ç•¥å·¥ä½œæ­£å¸¸
   - å¯ä»¥ç»§ç»­é…ç½®

4. **å®æ—¶åŠŸèƒ½ä¸å·¥ä½œ**ï¼š
   - åœ¨ Supabase æ§åˆ¶å°å¯ç”¨å®æ—¶åŠŸèƒ½
   - æ£€æŸ¥ Database â†’ Replication è®¾ç½®

5. **æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜**ï¼š
   - ä½¿ç”¨ Chrome æˆ– Firefox
   - æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
   - ç¦ç”¨å¹¿å‘Šæ‹¦æˆªå™¨

ğŸ“ **è”ç³»æ–¹å¼**ï¼š
- æŸ¥çœ‹ README.md è·å–æ›´å¤šä¿¡æ¯
- å‚è€ƒ MULTI_USER_GUIDE.md è·å–è¯¦ç»†ä½¿ç”¨æŒ‡å—
- æ£€æŸ¥ AUTH_SETUP.md äº†è§£é…ç½®è¦æ±‚

ğŸ”„ **é…ç½®æµç¨‹**ï¼š
1. å…ˆç‚¹å‡»"æµ‹è¯•ç½‘ç»œè¿æ¥"
2. å¦‚æœæ­£å¸¸ï¼Œç‚¹å‡»"å¼€å§‹è‡ªåŠ¨é…ç½®"
3. å¦‚æœå¤±è´¥ï¼Œç‚¹å‡»"ğŸ“‹ ç¦»çº¿é…ç½®æ–¹æ¡ˆ"
4. æœ€åç‚¹å‡»"æµ‹è¯•ç™»å½•åŠŸèƒ½"
            `;

            addResult(helpText, 'success');
            updateStatus('å¸®åŠ©ä¿¡æ¯å·²æ˜¾ç¤º', 'success');
        }

        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateStatus('ç³»ç»Ÿå°±ç»ªï¼Œè¯·é€‰æ‹©æ“ä½œ', 'success');
            addResult('ğŸ¯ é…ç½®åŠ©æ‰‹å·²åŠ è½½ï¼Œè¯·æŒ‰éœ€é€‰æ‹©åŠŸèƒ½', 'success');

            // è‡ªåŠ¨è¿›è¡Œè¿æ¥æµ‹è¯•
            setTimeout(testConnection, 1000);
        });
    </script>
</body>
</html>