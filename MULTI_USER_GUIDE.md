# é…’åº—å‘˜å·¥ç®¡ç†ç³»ç»Ÿ - å¤šç”¨æˆ·åä½œä½¿ç”¨æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨ç³»ç»Ÿçš„å¤šç”¨æˆ·å®æ—¶åä½œåŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å‰ç½®å‡†å¤‡

ç¡®ä¿ä½ å·²ç»æŒ‰ç…§ `AUTH_SETUP.md` å®Œæˆäº†Supabaseé…ç½®ï¼š
- âœ… å¯ç”¨é‚®ç®±/å¯†ç è®¤è¯
- âœ… é…ç½®é‚®ç®±éªŒè¯
- âœ… è®¾ç½®é‡å®šå‘URL
- âœ… è¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆé‡è¦ï¼ï¼‰

### 2. è¿è¡Œç³»ç»Ÿ

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd hotel-membership-system

# å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
python -m http.server 8000

# æˆ–è€…ä½¿ç”¨å…¶ä»–æœåŠ¡å™¨
npx http-server
```

### 3. è®¿é—®ç³»ç»Ÿ

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:8000`

ç³»ç»Ÿä¼šè‡ªåŠ¨é‡å®šå‘åˆ°ç™»å½•é¡µé¢ï¼š`http://localhost:8000/login.html`

## ğŸ‘¥ å¤šç”¨æˆ·åä½œä½¿ç”¨æµç¨‹

### æ­¥éª¤1ï¼šæ³¨å†Œå¤šä¸ªæµ‹è¯•è´¦æˆ·

#### ç”¨æˆ·Aï¼ˆäººäº‹ä¸“å‘˜ï¼‰
1. è®¿é—® `login.html`
2. ç‚¹å‡»"ç«‹å³æ³¨å†Œ"
3. å¡«å†™ä¿¡æ¯ï¼š
   - å§“åï¼šå¼ ä¸‰
   - é‚®ç®±ï¼šzhangsan@example.com
   - å¯†ç ï¼š123456
4. æ£€æŸ¥é‚®ç®±å¹¶ç‚¹å‡»éªŒè¯é“¾æ¥
5. ç™»å½•ç³»ç»Ÿ

#### ç”¨æˆ·Bï¼ˆè´¢åŠ¡ä¸“å‘˜ï¼‰
1. é‡å¤æ³¨å†Œæµç¨‹ï¼š
   - å§“åï¼šæå››
   - é‚®ç®±ï¼šlisi@example.com
   - å¯†ç ï¼š123456
2. éªŒè¯é‚®ç®±å¹¶ç™»å½•

### æ­¥éª¤2ï¼šå¤šç”¨æˆ·å®æ—¶åä½œæµ‹è¯•

#### åœºæ™¯Aï¼šæ·»åŠ å‘˜å·¥
1. **ç”¨æˆ·A** åœ¨ä¸»ç•Œé¢ï¼š
   - ç‚¹å‡»"æ–°å¢å‘˜å·¥"é€‰é¡¹å¡
   - å¡«å†™ï¼šå‘˜å·¥ID=1001ï¼Œå§“å=ç‹äº”ï¼Œè–ªèµ„=8000
   - ç‚¹å‡»"æ·»åŠ å‘˜å·¥"
   - è§‚å¯Ÿå³ä¸Šè§’æ˜¾ç¤º"åœ¨çº¿ç”¨æˆ·: 2"

2. **ç”¨æˆ·B** åŒæ—¶åœ¨çº¿ï¼š
   - å‘˜å·¥åˆ—è¡¨ä¼šè‡ªåŠ¨æ˜¾ç¤ºæ–°æ·»åŠ çš„"ç‹äº”"
   - é¡µé¢é¡¶éƒ¨ä¼šæ˜¾ç¤ºé€šçŸ¥ï¼š"å¼ ä¸‰ æ·»åŠ äº†æ–°å‘˜å·¥ ç‹äº”"
   - è¡¨æ ¼ä¸­"åˆ›å»ºè€…"åˆ—æ˜¾ç¤º"å¼ ä¸‰"

#### åœºæ™¯Bï¼šç¼–è¾‘å‘˜å·¥ä¿¡æ¯
1. **ç”¨æˆ·B** ä¿®æ”¹è–ªèµ„ï¼š
   - ç‚¹å‡»"ç¼–è¾‘å‘˜å·¥"é€‰é¡¹å¡
   - è¾“å…¥å‘˜å·¥ID=1001æŸ¥æ‰¾"ç‹äº”"
   - ä¿®æ”¹è–ªèµ„ä¸º8500
   - ç‚¹å‡»"æ›´æ–°è–ªèµ„"

2. **ç”¨æˆ·A** è§‚å¯Ÿå˜åŒ–ï¼š
   - åˆ—è¡¨è‡ªåŠ¨åˆ·æ–°ï¼Œç‹äº”çš„è–ªèµ„æ˜¾ç¤ºä¸º8500
   - é¡µé¢é¡¶éƒ¨æ˜¾ç¤ºï¼š"æå›› æ›´æ–°äº†å‘˜å·¥ ç‹äº” çš„ä¿¡æ¯"
   - "æ›´æ–°è€…"åˆ—æ˜¾ç¤º"æå››"

#### åœºæ™¯Cï¼šåˆ é™¤å‘˜å·¥
1. **ç”¨æˆ·A** åˆ é™¤è®°å½•ï¼š
   - ç‚¹å‡»"åˆ é™¤å‘˜å·¥"é€‰é¡¹å¡
   - è¾“å…¥å‘˜å·¥ID=1001
   - ç¡®è®¤åˆ é™¤

2. **ç”¨æˆ·B** çœ‹åˆ°å˜åŒ–ï¼š
   - å‘˜å·¥åˆ—è¡¨ä¸­"ç‹äº”"æ¶ˆå¤±
   - æ˜¾ç¤ºé€šçŸ¥ï¼š"å¼ ä¸‰ åˆ é™¤äº†å‘˜å·¥ ç‹äº”"

## ğŸ¯ æ ¸å¿ƒåä½œåŠŸèƒ½éªŒè¯

### 1. å®æ—¶åŒæ­¥æµ‹è¯•
- [ ] ç”¨æˆ·Aæ·»åŠ æ•°æ® â†’ ç”¨æˆ·Bç«‹å³çœ‹åˆ°
- [ ] ç”¨æˆ·Bä¿®æ”¹æ•°æ® â†’ ç”¨æˆ·Aç«‹å³çœ‹åˆ°
- [ ] ç”¨æˆ·Aåˆ é™¤æ•°æ® â†’ ç”¨æˆ·Bç«‹å³çœ‹åˆ°

### 2. æ“ä½œé€šçŸ¥æµ‹è¯•
- [ ] é¡µé¢é¡¶éƒ¨æ˜¾ç¤ºå…¶ä»–ç”¨æˆ·çš„æ“ä½œ
- [ ] é€šçŸ¥åŒ…å«æ“ä½œè€…å§“åå’Œå…·ä½“æ“ä½œ
- [ ] é€šçŸ¥3ç§’åè‡ªåŠ¨æ¶ˆå¤±

### 3. åœ¨çº¿çŠ¶æ€æµ‹è¯•
- [ ] æ˜¾ç¤ºå½“å‰åœ¨çº¿ç”¨æˆ·æ•°é‡
- [ ] æ˜¾ç¤ºåœ¨çº¿ç”¨æˆ·çš„é‚®ç®±åœ°å€
- [ ] ç”¨æˆ·ç™»å‡ºååœ¨çº¿æ•°é‡å‡å°‘

### 4. æ•°æ®è¿½è¸ªæµ‹è¯•
- [ ] "åˆ›å»ºè€…"åˆ—æ˜¾ç¤ºæ·»åŠ è®°å½•çš„ç”¨æˆ·
- [ ] "æ›´æ–°è€…"åˆ—æ˜¾ç¤ºæœ€åä¿®æ”¹çš„ç”¨æˆ·
- [ ] åŒ…å«åˆ›å»ºæ—¶é—´å’Œæœ€åæ›´æ–°æ—¶é—´

## ğŸ” é«˜çº§åŠŸèƒ½æµ‹è¯•

### 1. å¤šæµè§ˆå™¨æµ‹è¯•
1. **ç”¨æˆ·A**ï¼šChromeæµè§ˆå™¨ç™»å½•
2. **ç”¨æˆ·B**ï¼šFirefoxæµè§ˆå™¨ç™»å½•
3. éªŒè¯è·¨æµè§ˆå™¨çš„å®æ—¶åä½œ

### 2. ç§»åŠ¨ç«¯æµ‹è¯•
1. **ç”¨æˆ·A**ï¼šæ¡Œé¢ç”µè„‘æ“ä½œ
2. **ç”¨æˆ·B**ï¼šæ‰‹æœºæµè§ˆå™¨è®¿é—®
3. éªŒè¯ç§»åŠ¨ç«¯å“åº”å¼åä½œ

### 3. å¹¶å‘æ“ä½œæµ‹è¯•
1. **ç”¨æˆ·A**å’Œ**ç”¨æˆ·B**åŒæ—¶ç¼–è¾‘ä¸åŒå‘˜å·¥
2. éªŒè¯ç³»ç»Ÿå¤„ç†çš„å¹¶å‘æƒ…å†µ
3. æ£€æŸ¥æ•°æ®ä¸€è‡´æ€§

## ğŸ“‹ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜è§£å†³

#### 1. å®æ—¶åŒæ­¥ä¸å·¥ä½œ
```bash
# æ£€æŸ¥Supabaseå®æ—¶åŠŸèƒ½
# åœ¨Supabaseæ§åˆ¶å° â†’ Database â†’ Replication
# ç¡®ä¿ members è¡¨å·²å¯ç”¨
```

#### 2. æ— æ³•çœ‹åˆ°å…¶ä»–ç”¨æˆ·æ“ä½œ
- æ£€æŸ¥ä¸¤ä¸ªç”¨æˆ·æ˜¯å¦éƒ½æ˜¯è®¤è¯çŠ¶æ€
- ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
- åˆ·æ–°é¡µé¢é‡æ–°å»ºç«‹è¿æ¥

#### 3. åœ¨çº¿ç”¨æˆ·æ˜¾ç¤ºä¸å‡†ç¡®
- æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å®Œå…¨é€€å‡ºç™»å½•
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- é‡æ–°ç™»å½•å°è¯•

#### 4. æ•°æ®å†²çªå¤„ç†
ç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†å¹¶å‘æ“ä½œï¼Œæ— éœ€ç‰¹æ®Šå¤„ç†ã€‚æœ€åä¸€ä¸ªæ“ä½œä¼šè¢«ä¿å­˜ã€‚

## ğŸ“ å›¢é˜Ÿä½¿ç”¨å»ºè®®

### æœ€ä½³å®è·µ

1. **æ˜ç¡®åˆ†å·¥**ï¼š
   - æŒ‡å®šä¸åŒç”¨æˆ·è´Ÿè´£ä¸åŒç±»å‹æ“ä½œ
   - é¿å…åŒæ—¶ä¿®æ”¹åŒä¸€æ¡è®°å½•

2. **åŠæ—¶æ²Ÿé€š**ï¼š
   - åˆ©ç”¨å®æ—¶é€šçŸ¥äº†è§£å›¢é˜ŸåŠ¨æ€
   - é‡è¦æ“ä½œå‰å…ˆæ²Ÿé€š

3. **å®šæœŸæ£€æŸ¥**ï¼š
   - å®šæœŸæŸ¥çœ‹æ´»åŠ¨æ—¥å¿—
   - ç¡®è®¤æ•°æ®æ“ä½œçš„æ­£ç¡®æ€§

### æ•°æ®å®‰å…¨

1. **å¼ºå¯†ç **ï¼š
   - æ‰€æœ‰ç”¨æˆ·ä½¿ç”¨å¤æ‚å¯†ç 
   - å®šæœŸæ›´æ¢å¯†ç 

2. **æƒé™ç®¡ç†**ï¼š
   - åªç»™éœ€è¦çš„äººå‘˜è´¦æˆ·
   - åŠæ—¶åœç”¨ç¦»èŒäººå‘˜è´¦æˆ·

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è°ƒè¯•æ–¹æ³•

1. **æµè§ˆå™¨æ§åˆ¶å°**ï¼š
   ```javascript
   // æ‰“å¼€å¼€å‘è€…å·¥å…· (F12)
   // æŸ¥çœ‹Consoleæ ‡ç­¾é¡µçš„é”™è¯¯ä¿¡æ¯
   // æ£€æŸ¥Networkæ ‡ç­¾é¡µçš„WebSocketè¿æ¥
   ```

2. **Supabaseæ§åˆ¶å°**ï¼š
   - æŸ¥çœ‹å®æ—¶è¿æ¥çŠ¶æ€
   - æ£€æŸ¥RLSç­–ç•¥é…ç½®
   - ç›‘æ§æ•°æ®åº“æ“ä½œ

3. **ç½‘ç»œæ£€æŸ¥**ï¼š
   ```bash
   # æ£€æŸ¥ç½‘ç»œè¿æ¥
   ping xlamtnjlxzulahvumafh.supabase.co

   # æ£€æŸ¥WebSocketè¿æ¥
   curl -I https://xlamtnjlxzulahvumafh.supabase.co/realtime/v1
   ```

### æ—¥å¿—åˆ†æ

#### æ´»åŠ¨æ—¥å¿—æŸ¥è¯¢
```sql
-- æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·æ´»åŠ¨
SELECT
    user_email,
    action,
    target_type,
    target_id,
    details,
    created_at
FROM activity_logs
ORDER BY created_at DESC;

-- æŸ¥çœ‹ç‰¹å®šç”¨æˆ·çš„æ“ä½œ
SELECT * FROM activity_logs
WHERE user_email = 'zhangsan@example.com'
ORDER BY created_at DESC;

-- æŸ¥çœ‹ç‰¹å®šæ—¶é—´èŒƒå›´çš„æ´»åŠ¨
SELECT * FROM activity_logs
WHERE created_at >= '2024-01-01'
  AND created_at <= '2024-01-31';
```

#### æ•°æ®å˜æ›´è¿½è¸ª
```sql
-- æŸ¥çœ‹å‘˜å·¥è®°å½•çš„ä¿®æ”¹å†å²
SELECT
    employee_id,
    employee_name,
    employee_salary,
    created_by,
    updated_by,
    created_at,
    updated_at
FROM members
ORDER BY updated_at DESC;
```

## ğŸ”„ æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. æ•°æ®åº“ä¼˜åŒ–
- å®šæœŸæ¸…ç†æ—§çš„æ´»åŠ¨æ—¥å¿—
- ä¸ºå¤§è¡¨æ·»åŠ é€‚å½“çš„ç´¢å¼•
- ç›‘æ§æŸ¥è¯¢æ€§èƒ½

### 2. å‰ç«¯ä¼˜åŒ–
- ä½¿ç”¨é˜²æŠ–å¤„ç†é¢‘ç¹æ“ä½œ
- å®ç°è™šæ‹Ÿæ»šåŠ¨å¤„ç†å¤§é‡æ•°æ®
- ä¼˜åŒ–å®æ—¶æ›´æ–°çš„æ¸²æŸ“

### 3. ç½‘ç»œä¼˜åŒ–
- ä½¿ç”¨CDNåŠ é€Ÿé™æ€èµ„æº
- å‹ç¼©ä¼ è¾“æ•°æ®
- å®ç°ç¦»çº¿ç¼“å­˜åŠŸèƒ½

## ğŸ“ˆ æ‰©å±•åŠŸèƒ½å»ºè®®

### 1. é«˜çº§åä½œåŠŸèƒ½
- [ ] è¯„è®ºå’Œè®¨è®ºç³»ç»Ÿ
- [ ] æ–‡ä»¶é™„ä»¶æ”¯æŒ
- [ ] ç‰ˆæœ¬å†å²è®°å½•
- [ ] æ‰¹é‡æ“ä½œåŠŸèƒ½

### 2. ç®¡ç†åŠŸèƒ½
- [ ] ç”¨æˆ·è§’è‰²æƒé™ç®¡ç†
- [ ] æ•°æ®å¯¼å…¥å¯¼å‡º
- [ ] æŠ¥è¡¨ç»Ÿè®¡åŠŸèƒ½
- [ ] å®¡æ‰¹å·¥ä½œæµ

### 3. é›†æˆåŠŸèƒ½
- [ ] é‚®ä»¶é€šçŸ¥é›†æˆ
- [ ] ç¬¬ä¸‰æ–¹è®¤è¯ç™»å½•
- [ ] APIæ¥å£å¼€æ”¾
- [ ] ç§»åŠ¨ç«¯APP

## ğŸ“ è”ç³»æ”¯æŒ

å¦‚æœé‡åˆ°æŠ€æœ¯é—®é¢˜ï¼š

1. **æ–‡æ¡£ä¼˜å…ˆ**ï¼šé¦–å…ˆæŸ¥çœ‹ç›¸å…³æ–‡æ¡£
2. **æ—¥å¿—æ”¶é›†**ï¼šæ”¶é›†é”™è¯¯ä¿¡æ¯å’Œæ“ä½œæ­¥éª¤
3. **ç¯å¢ƒä¿¡æ¯**ï¼šæä¾›æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿä¿¡æ¯
4. **å¤ç°æ­¥éª¤**ï¼šæä¾›è¯¦ç»†çš„å¤ç°æµç¨‹

---

**æ³¨æ„äº‹é¡¹**ï¼š
- ç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨HTTPS
- å®šæœŸå¤‡ä»½æ•°æ®
- ç›‘æ§ç³»ç»Ÿæ€§èƒ½
- ä¿æŒè½¯ä»¶æ›´æ–°

ç°åœ¨ä½ å¯ä»¥æŒ‰ç…§ä»¥ä¸ŠæŒ‡å—å……åˆ†ä½“éªŒå¤šç”¨æˆ·åä½œçš„å¼ºå¤§åŠŸèƒ½ï¼